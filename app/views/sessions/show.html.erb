
<%# This is the title, responsive for small screens and bigger screens %>

<!--<h1 class= "h3 ml-3 my-5 d-block d-md-none" > Select a room to  <br> join your game! </h1>-->
<h1 class= "h3 ml-3 my-5 d-md-block d-none" > Select a room to join your game! </h1>


<%# This is the list of the subjects that we got from the @subjects variable, and we are creating a table with all of them! %>
<%# All of the sessions will use the same room for now to keep it simpler %>

<ul cass="list-group list-group-flush bg-transparent">
  <% @games.each do |game| %>
    <li class = "list-group-item bg-transparent col-10 col-md-5 ">
      <%= link_to game.title, sessions_show_path(game: game), method: :post, class: "h5" %>
<!--      <p class="text-warning mb-1"> Mentor: <%#= subject.teacher %> </p>-->
    </li>
  <% end %>
</ul>

<%#= instant_hangout topic: 'My Hangout' %>

<!--<script crossorigin src="https://unpkg.com/@daily-co/daily-js"></script>-->
<!--<script>-->
<!--    callFrame = window.DailyIframe.createFrame();-->
<!--    callFrame.join({ url: 'https://tutorial.daily.co/hello' })-->
<!--</script>-->

<!--Daily.co API key f3257f9c663d130e3bd71246c0050c0be4f97a88acde014454ea30545586aa6c-->

<% if @clicked %>
  <script crossorigin src="https://unpkg.com/@daily-co/daily-js"></script>
  <script>
      if (window.innerWidth <= 400) {
          callFrame = window.DailyIframe.createFrame({
              showLeaveButton: true,
              iframeStyle: {
                  position: 'fixed',
                  bottom: 0,
                  width: '100%',
                  height: '100%'
              }
          });

          callFrame.join({ url: 'https://avalon.daily.co/avalon' })
      } else {
          callFrame = window.DailyIframe.createFrame({
              showLeaveButton: true,
              iframeStyle: {
                  position: 'fixed',
                  bottom: 0,
                  right: 0,
                  width: '100%',
                  height: '70%'
              }
          });

          callFrame.join({ url: 'https://avalon.daily.co/avalon' })
      }

  </script>

<% end %>
